# Global





* * *

## Class: PseudoStateKind
An enumeration of static constants that dictates the precise behaviour of pseudo states.

Use these constants as the `kind` parameter when creating new `PseudoState` instances.

**Initial**: `PseudoStateKind` , Used for pseudo states that are always the staring point when entering their parent region.

**ShallowHistory**: `PseudoStateKind` , Used for pseudo states that are the the starting point when entering their parent region for the first time; subsequent entries will start at the last known state.

**DeepHistory**: `PseudoStateKind` , As per `ShallowHistory` but the history semantic cascades through all child regions irrespective of their initial pseudo state kind.

**Choice**: `PseudoStateKind` , Enables a dynamic conditional branches; within a compound transition.
All outbound transition guards from a Choice are evaluated upon entering the PseudoState:
if a single transition is found, it will be traversed;
if many transitions are found, an arbitary one will be selected and traversed;
if none evaluate true, and there is no 'else transition' defined, the machine is deemed illformed and an exception will be thrown.

**Junction**: `PseudoStateKind` , Enables a static conditional branches; within a compound transition.
All outbound transition guards from a Choice are evaluated upon entering the PseudoState:
if a single transition is found, it will be traversed;
if many or none evaluate true, and there is no 'else transition' defined, the machine is deemed illformed and an exception will be thrown.

**Terminate**: `PseudoStateKind` , Entering a terminate `PseudoState` implies that the execution of this state machine by means of its state object is terminated.

## Class: TransitionKind
An enumeration of static constants that dictates the precise behaviour of transitions.

Use these constants as the `kind` parameter when creating new `Transition` instances.

**Internal**: `TransitionKind` , The transition, if triggered, occurs without exiting or entering the source state.
Thus, it does not cause a state change. This means that the entry or exit condition of the source state will not be invoked.
An internal transition can be taken even if the state machine is in one or more regions nested within this state.

**Local**: `TransitionKind` , The transition, if triggered, will not exit the composite (source) state, but it will apply to any state within the composite state, and these will be exited and entered.

**External**: `TransitionKind` , The transition, if triggered, will exit the source vertex.

## Class: Element
An abstract class used as the base for the Region and Vertex classes.
An element is any part of the tree structure that represents a composite state machine model.

**namespaceSeparator**: `string` , The symbol used to separate element names within a fully qualified name.
Change this static member to create different styles of qualified name generated by the toString method.
### Element.Element(name) 

Creates a new instance of the element class.

**Parameters**

**name**: `string`, The name of the element.


### Element.getParent() 

Returns the parent element of this element.

**Returns**: `Element`, The parent element of the element.

### Element.getRoot() 

Returns the root element within the state machine model.

**Returns**: `StateMachine`, The root state machine element.

### Element.accept(visitor, arg) 

Accepts an instance of a visitor.

**Parameters**

**visitor**: `Visitor.&lt;TArg&gt;`, The visitor instance.

**arg**: `TArg`, An optional argument to pass into the visitor.

**Returns**: `any`, Any value can be returned by the visitor.

### Element.toString() 

Returns a the element name as a fully qualified namespace.

**Returns**: `string`


## Class: Region
An element within a state machine model that is a container of Vertices.

Regions are implicitly inserted into composite state machines as a container for vertices.
They only need to be explicitly defined if orthogonal states are required.

Region extends the Element class and inherits its public interface.

**vertices**: `Array.&lt;Vertex&gt;` , The set of vertices that are children of the region.
**defaultName**: `string` , The name given to regions that are are created automatically when a state is passed as a vertex's parent.
Regions are automatically inserted into state machine models as the composite structure is built; they are named using this static member.
Update this static member to use a different name for default regions.
### Region.Region(name, state) 

Creates a new instance of the Region class.

**Parameters**

**name**: `string`, The name of the region.

**state**: `State`, The parent state that this region will be a child of.


### Region.getParent() 

Returns the parent element of this region.

**Returns**: `Element`, The parent element of the region.

### Region.accept(visitor, arg1, arg2, arg3) 

Accepts an instance of a visitor and calls the visitRegion method on it.

**Parameters**

**visitor**: `Visitor.&lt;TArg1&gt;`, The visitor instance.

**arg1**: `TArg1`, An optional argument to pass into the visitor.

**arg2**: `any`, An optional argument to pass into the visitor.

**arg3**: `any`, An optional argument to pass into the visitor.

**Returns**: `any`, Any value can be returned by the visitor.


## Class: Vertex
An abstract element within a state machine model that can be the source or target of a transition (states and pseudo states).

Vertex extends the Element class and inherits its public interface.

**transitions**: `Array.&lt;Transition&gt;` , The set of transitions from this vertex.
### Vertex.Vertex(name, parent) 

Creates a new instance of the Vertex class.

**Parameters**

**name**: `string`, The name of the vertex.

**parent**: `Region | State`, The parent region or state.


### Vertex.getParent() 

Returns the parent element of this vertex.

**Returns**: `Element`, The parent element of the vertex.

### Vertex.to(target) 

Creates a new transition from this vertex.
Newly created transitions are completion transitions; they will be evaluated after a vertex has been entered if it is deemed to be complete.
Transitions can be converted to be event triggered by adding a guard condition via the transitions `where` method.

**Parameters**

**target**: `Vertex`, The destination of the transition; omit for internal transitions.

**Returns**: `Transition`, The new transition object.


## Class: PseudoState
An element within a state machine model that represents an transitory Vertex within the state machine model.

Pseudo states are required in all state machine models; at the very least, an `Initial` pseudo state is the default stating state when the parent region is entered.
Other types of pseudo state are available; typically for defining history semantics or to facilitate more complex transitions.
A `Terminate` pseudo state kind is also available to immediately terminate processing within the entire state machine instance.

PseudoState extends the Vertex class and inherits its public interface.

### PseudoState.PseudoState(name, parent, kind) 

Creates a new instance of the PseudoState class.

**Parameters**

**name**: `string`, The name of the pseudo state.

**parent**: `Element`, The parent element that this pseudo state will be a child of.

**kind**: `PseudoStateKind`, Determines the behaviour of the PseudoState.


### PseudoState.isHistory() 

Tests a pseudo state to determine if it is a history pseudo state.
History pseudo states are of kind: Initial, ShallowHisory, or DeepHistory.

**Returns**: `boolean`, True if the pseudo state is a history pseudo state.

### PseudoState.isInitial() 

Tests a pseudo state to determine if it is an initial pseudo state.
Initial pseudo states are of kind: Initial, ShallowHisory, or DeepHistory.

**Returns**: `boolean`, True if the pseudo state is an initial pseudo state.

### PseudoState.accept(visitor, arg1, arg2, arg3) 

Accepts an instance of a visitor and calls the visitPseudoState method on it.

**Parameters**

**visitor**: `Visitor.&lt;TArg1&gt;`, The visitor instance.

**arg1**: `TArg1`, An optional argument to pass into the visitor.

**arg2**: `any`, An optional argument to pass into the visitor.

**arg3**: `any`, An optional argument to pass into the visitor.

**Returns**: `any`, Any value can be returned by the visitor.


## Class: State
An element within a state machine model that represents an invariant condition within the life of the state machine instance.

States are one of the fundamental building blocks of the state machine model.
Behaviour can be defined for both state entry and state exit.

State extends the Vertex class and inherits its public interface.

**regions**: `Array.&lt;Region&gt;` , The set of regions under this state.
### State.State(name, parent) 

Creates a new instance of the State class.

**Parameters**

**name**: `string`, The name of the state.

**parent**: `Element`, The parent state that owns the state.


### State.defaultRegion() 

Returns the default region for the state.
Note, this will create the default region if it does not already exist.

**Returns**: `Region`, The default region.

### State.isFinal() 

Tests the state to see if it is a final state;
a final state is one that has no outbound transitions.

**Returns**: `boolean`, True if the state is a final state.

### State.isSimple() 

Tests the state to see if it is a simple state;
a simple state is one that has no child regions.

**Returns**: `boolean`, True if the state is a simple state.

### State.isComposite() 

Tests the state to see if it is a composite state;
a composite state is one that has one or more child regions.

**Returns**: `boolean`, True if the state is a composite state.

### State.isOrthogonal() 

Tests the state to see if it is an orthogonal state;
an orthogonal state is one that has two or more child regions.

**Returns**: `boolean`, True if the state is an orthogonal state.

### State.exit(exitAction) 

Adds behaviour to a state that is executed each time the state is exited.

**Parameters**

**exitAction**: `Action`, The action to add to the state's exit behaviour.

**Returns**: `State`, Returns the state to allow a fluent style API.

### State.entry(entryAction) 

Adds behaviour to a state that is executed each time the state is entered.

**Parameters**

**entryAction**: `Action`, The action to add to the state's entry behaviour.

**Returns**: `State`, Returns the state to allow a fluent style API.

### State.accept(visitor, arg1, arg2, arg3) 

Accepts an instance of a visitor and calls the visitState method on it.

**Parameters**

**visitor**: `Visitor.&lt;TArg1&gt;`, The visitor instance.

**arg1**: `TArg1`, An optional argument to pass into the visitor.

**arg2**: `any`, An optional argument to pass into the visitor.

**arg3**: `any`, An optional argument to pass into the visitor.

**Returns**: `any`, Any value can be returned by the visitor.


## Class: FinalState
An element within a state machine model that represents completion of the life of the containing Region within the state machine instance.

A final state cannot have outbound transitions.

FinalState extends the State class and inherits its public interface.

### FinalState.FinalState(name, parent) 

Creates a new instance of the FinalState class.

**Parameters**

**name**: `string`, The name of the final state.

**parent**: `Element`, The parent element that owns the final state.


### FinalState.accept(visitor, arg) 

Accepts an instance of a visitor and calls the visitFinalState method on it.

**Parameters**

**visitor**: `Visitor.&lt;TArg&gt;`, The visitor instance.

**arg**: `TArg`, An optional argument to pass into the visitor.

**Returns**: `any`, Any value can be returned by the visitor.


## Class: StateMachine
An element within a state machine model that represents the root of the state machine model.

StateMachine extends the State class and inherits its public interface.

### StateMachine.StateMachine(name) 

Creates a new instance of the StateMachine class.

**Parameters**

**name**: `string`, The name of the state machine.


### StateMachine.getRoot() 

Returns the root element within the state machine model.
Note that if this state machine is embeded within another state machine, the ultimate root element will be returned.

**Returns**: `StateMachine`, The root state machine element.

### StateMachine.setLogger(value) 

Instructs the state machine model to log activity to an object supporting the Console interface.

**Parameters**

**value**: `Console`, Pass in console to log to the console, or any other object supporting the .log method.

**Returns**: `StateMachine`, Returns the state machine to enable fluent style API.

### StateMachine.setWarning(value) 

Instructs the state machine model to direct warnings activity to an object supporting the Console interface.

**Parameters**

**value**: `Console`, Pass in console to log to the console, or any other object supporting the .warn method.

**Returns**: `StateMachine`, Returns the state machine to enable fluent style API.

### StateMachine.setError(value) 

Instructs the state machine model to direct error messages to an object supporting the Console interface.

**Parameters**

**value**: `Console`, Pass in console to log to the console, or any other object supporting the .error method.

**Returns**: `StateMachine`, Returns the state machine to enable fluent style API.

### StateMachine.accept(visitor, arg1, arg2, arg3) 

Accepts an instance of a visitor and calls the visitStateMachine method on it.

**Parameters**

**visitor**: `Visitor.&lt;TArg1&gt;`, The visitor instance.

**arg1**: `TArg1`, An optional argument to pass into the visitor.

**arg2**: `any`, An optional argument to pass into the visitor.

**arg3**: `any`, An optional argument to pass into the visitor.

**Returns**: `any`, Any value can be returned by the visitor.


## Class: Transition
A transition between vertices (states or pseudo states) that may be traversed in response to a message.

Transitions come in a variety of types:
internal transitions respond to messages but do not cause a state transition, they only have behaviour;
local transitions are contained within a single region therefore the source vertex is exited, the transition traversed, and the target state entered;
external transitions are more complex in nature as they cross region boundaries, all elements up to but not not including the common ancestor are exited and entered.

Entering a composite state will cause the entry of the child regions within the composite state; this in turn may trigger more transitions.

### Transition.Transition(source, source, kind) 

Creates a new instance of the Transition class.

**Parameters**

**source**: `Vertex`, The source of the transition.

**source**: `Vertex`, The target of the transition; this is an optional parameter, omitting it will create an Internal transition.

**kind**: `TransitionKink`, The kind the transition; use this to set Local or External (the default if omitted) transition semantics.


### Transition.else() 

Turns a transition into an else transition.

Else transitions can be used at `Junction` or `Choice` pseudo states if no other transition guards evaluate true, an Else transition if present will be traversed.

**Returns**: `Transition`, Returns the transition object to enable the fluent API.

### Transition.when(guard) 

Defines the guard condition for the transition.

**Parameters**

**guard**: `Guard`, The guard condition that must evaluate true for the transition to be traversed.

**Returns**: `Transition`, Returns the transition object to enable the fluent API.

### Transition.effect(transitionAction) 

Add behaviour to a transition.

**Parameters**

**transitionAction**: `Action`, The action to add to the transitions traversal behaviour.

**Returns**: `Transition`, Returns the transition object to enable the fluent API.

### Transition.accept(visitor, arg1, arg2, arg3) 

Accepts an instance of a visitor and calls the visitTransition method on it.

**Parameters**

**visitor**: `Visitor.&lt;TArg1&gt;`, The visitor instance.

**arg1**: `TArg1`, An optional argument to pass into the visitor.

**arg2**: `any`, An optional argument to pass into the visitor.

**arg3**: `any`, An optional argument to pass into the visitor.

**Returns**: `any`, Any value can be returned by the visitor.


## Class: Visitor
Implementation of a visitor pattern.

### Visitor.visitElement(element, arg1, arg2, arg3) 

Visits an element within a state machine model.

**Parameters**

**element**: `Element`, the element being visited.

**arg1**: `TArg1`, An optional parameter passed into the accept method.

**arg2**: `any`, An optional parameter passed into the accept method.

**arg3**: `any`, An optional parameter passed into the accept method.

**Returns**: `any`, Any value may be returned when visiting an element.

### Visitor.visitRegion(region, arg1, arg2, arg3) 

Visits a region within a state machine model.

**Parameters**

**region**: `Region`, The region being visited.

**arg1**: `TArg1`, An optional parameter passed into the accept method.

**arg2**: `any`, An optional parameter passed into the accept method.

**arg3**: `any`, An optional parameter passed into the accept method.

**Returns**: `any`, Any value may be returned when visiting an element.

### Visitor.visitVertex(vertex, arg1, arg2, arg3) 

Visits a vertex within a state machine model.

**Parameters**

**vertex**: `Vertex`, The vertex being visited.

**arg1**: `TArg1`, An optional parameter passed into the accept method.

**arg2**: `any`, An optional parameter passed into the accept method.

**arg3**: `any`, An optional parameter passed into the accept method.

**Returns**: `any`, Any value may be returned when visiting an element.

### Visitor.visitPseudoState(pseudoState, arg1, arg2, arg3) 

Visits a pseudo state within a state machine model.

**Parameters**

**pseudoState**: `PseudoState`, The pseudo state being visited.

**arg1**: `TArg1`, An optional parameter passed into the accept method.

**arg2**: `any`, An optional parameter passed into the accept method.

**arg3**: `any`, An optional parameter passed into the accept method.

**Returns**: `any`, Any value may be returned when visiting an element.

### Visitor.visitState(state, arg1, arg2, arg3) 

Visits a state within a state machine model.

**Parameters**

**state**: `State`, The state being visited.

**arg1**: `TArg1`, An optional parameter passed into the accept method.

**arg2**: `any`, An optional parameter passed into the accept method.

**arg3**: `any`, An optional parameter passed into the accept method.

**Returns**: `any`, Any value may be returned when visiting an element.

### Visitor.visitFinal(finalState, arg1, arg2, arg3) 

Visits a final state within a state machine model.

**Parameters**

**finalState**: `FinalState`, The final state being visited.

**arg1**: `TArg1`, An optional parameter passed into the accept method.

**arg2**: `any`, An optional parameter passed into the accept method.

**arg3**: `any`, An optional parameter passed into the accept method.

**Returns**: `any`, Any value may be returned when visiting an element.

### Visitor.visitVertex(state, arg1, arg2, arg3) 

Visits a state machine within a state machine model.

**Parameters**

**state**: `StateMachine`, machine The state machine being visited.

**arg1**: `TArg1`, An optional parameter passed into the accept method.

**arg2**: `any`, An optional parameter passed into the accept method.

**arg3**: `any`, An optional parameter passed into the accept method.

**Returns**: `any`, Any value may be returned when visiting an element.

### Visitor.visitTransition(transition, arg1, arg2, arg3) 

Visits a transition within a state machine model.

**Parameters**

**transition**: `Transition`, The transition being visited.

**arg1**: `TArg1`, An optional parameter passed into the accept method.

**arg2**: `any`, An optional parameter passed into the accept method.

**arg3**: `any`, An optional parameter passed into the accept method.

**Returns**: `any`, Any value may be returned when visiting an element.


## Class: StateMachineInstance
Default working implementation of a state machine instance class.

Implements the `IActiveStateConfiguration` interface.
It is possible to create other custom instance classes to manage state machine state in any way (e.g. as serialisable JSON); just implement the same members and methods as this class.

**isTerminated**:  , Indicates that the state manchine instance reached was terminated by reaching a Terminate pseudo state.
### StateMachineInstance.StateMachineInstance(name) 

Creates a new instance of the state machine instance class.

**Parameters**

**name**: `string`, The optional name of the state machine instance.


### StateMachineInstance.toString() 

Returns the name of the state machine instance.

**Returns**: `string`, The name of the state machine instance.

## Function: setRandom(generator) 

Sets a method to select an integer random number less than the max value passed as a parameter.

This is only useful when a custom random number generator is required; the default implementation is fine in most circumstances.

**Parameters**

**generator**: `function`, A function that takes a max value and returns a random number between 0 and max - 1.

**Returns**: , A random number between 0 and max - 1

## Function: getRandom() 

Returns the current method used to select an integer random number less than the max value passed as a parameter.

This is only useful when a custom random number generator is required; the default implementation is fine in most circumstances.

**Returns**: `function`, The function that takes a max value and returns a random number between 0 and max - 1.

## Function: isComplete(stateMachineModel, stateMachineInstance) 

Tests a state machine instance to see if its lifecycle is complete. A state machine instance is complete if all regions belonging to the state machine root have curent states that are final states.

**Parameters**

**stateMachineModel**: `StateMachine`, The state machine model.

**stateMachineInstance**: `IActiveStateConfiguration`, The instance of the state machine model to test for completeness.

**Returns**: `boolean`, True if the state machine instance is complete.

## Function: initialise(stateMachineModel, stateMachineInstance, autoInitialiseModel) 

Initialises a state machine and/or state machine model.

Passing just the state machine model will initialise the model, passing the model and instance will initialse the instance and if necessary, the model.

**Parameters**

**stateMachineModel**: `StateMachine`, The state machine model. If autoInitialiseModel is true (or no instance is specified) and the model has changed, the model will be initialised.

**stateMachineInstance**: `IActiveStateConfiguration`, The optional state machine instance to initialise.

**autoInitialiseModel**: `boolean`, Defaulting to true, this will cause the model to be initialised prior to initialising the instance if the model has changed.


## Function: evaluate(stateMachineModel, stateMachineInstance, autoInitialiseModel) 

Passes a message to a state machine for evaluation; messages trigger state transitions.

**Parameters**

**stateMachineModel**: `StateMachine`, The state machine model. If autoInitialiseModel is true (or no instance is specified) and the model has changed, the model will be initialised.

**stateMachineInstance**: `IActiveStateConfiguration`, The instance of the state machine model to evaluate the message against.

**autoInitialiseModel**: `boolean`, Defaulting to true, this will cause the model to be initialised prior to initialising the instance if the model has changed.

**Returns**: `boolean`, True if the message triggered a state transition.



* * *










